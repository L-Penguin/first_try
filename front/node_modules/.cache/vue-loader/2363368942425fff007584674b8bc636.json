{"remainingRequest":"D:\\Task_bridgeMonitor\\svntest2\\web\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Task_bridgeMonitor\\svntest2\\web\\front\\src\\views\\Table.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\Task_bridgeMonitor\\svntest2\\web\\front\\src\\views\\Table.vue","mtime":1640870619808},{"path":"D:\\Task_bridgeMonitor\\svntest2\\web\\front\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Task_bridgeMonitor\\svntest2\\web\\front\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\Task_bridgeMonitor\\svntest2\\web\\front\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\Task_bridgeMonitor\\svntest2\\web\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Task_bridgeMonitor\\svntest2\\web\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiN0YWJsZVBhcnQgewogICAgd2lkdGg6IDkwJTsKICAgIGhlaWdodDogODAwcHg7CiAgICBtYXJnaW46IGF1dG87CiAgICBtYXJnaW4tdG9wOiAxMDBweDsKfQoKLnNob3dEYXRhQnRuIHsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIGJhY2tncm91bmQ6ICNmYzVjN2Q7CiAgICBiYWNrZ3JvdW5kOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0byByaWdodCwgIzZhODJmYiwgI2ZjNWM3ZCk7CiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICM2YTgyZmIsICNmYzVjN2QpOwp9Cg=="},{"version":3,"sources":["Table.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiMA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Table.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div id=\"tablePart\">\r\n        <vxe-table\r\n          border\r\n          round\r\n          ref=\"xTable\"\r\n          height=\"800\" \r\n          :loading=\"loading\"\r\n          :column-config=\"{resizable: false, isCurrent: true, isHover: true}\"\r\n          :row-config=\"{isCurrent: true, isHover: true}\"\r\n          :data=\"tableData\">\r\n          <vxe-column\r\n            v-for=\"config in tableColumn\"\r\n            :key=\"config.key\"\r\n            :type=\"config.type\"\r\n            :field=\"config.field\"\r\n            :title=\"config.title\"\r\n            :fixed=\"config.fixed\"\r\n            :width=\"config.width\">\r\n            <template #default=\"{ row }\">\r\n                <div v-if=\"config.key===1\"><strong>&nbsp;{{row.ADDRESS}}</strong></div>\r\n                <div v-else-if=\"config.key===2\">\r\n                    <img :src=\"row.AMPIMAGE\" height=\"30\" width=\"150\">\r\n                    <strong>&nbsp;{{row.AMPLITUDE}}</strong>\r\n                </div>\r\n                <div v-else-if=\"config.key===3\"><strong>&nbsp;{{row.FREQUENCY}}</strong></div>\r\n                <div v-else-if=\"config.key==4\">\r\n                    <img :src=\"row.ACCURIMAGE\" height=\"30\" width=\"48\">\r\n                    <strong>&nbsp;{{row.ELECTRICITY}}</strong>\r\n                </div>\r\n                <div v-else-if=\"config.key===5\"><strong>&nbsp;{{row.VOLTAGE | userSlice}}</strong></div>\r\n                <div v-else-if=\"config.key===6\"><strong>&nbsp;{{row.READTIME}}</strong></div>\r\n                <div v-else><button @click=\"showData(row.MACADDRESS)\">显示数据</button></div>\r\n            </template>\r\n\r\n          </vxe-column>\r\n\r\n          <template #empty>\r\n            <span style=\"color: red;\">\r\n              <img src=\"../assets/img1.gif\">\r\n              <p>没有更多数据了！</p>\r\n            </span>\r\n          </template>\r\n        </vxe-table>\r\n\r\n        <el-pagination\r\n        :page-size=\"20\"\r\n        :pager-count=\"11\"\r\n        layout=\"prev, pager, next\"\r\n        :total=\"1000\">\r\n        </el-pagination>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import * as echarts from 'echarts'\r\n\timport accur1 from '@/assets/accur12.png'\r\n\timport accur2 from '@/assets/accur22.png'\r\n\timport accur3 from '@/assets/accur32.png'\r\n\timport accur4 from '@/assets/accur42.png'\r\n\timport amp1 from '@/assets/amp001.png'\r\n\timport amp2 from '@/assets/amp002.png'\r\n\timport amp3 from '@/assets/amp003.png'\r\n\timport amp4 from '@/assets/amp004.png'\r\n\timport amp5 from '@/assets/amp005.png'\r\n\timport amp6 from '@/assets/amp006.png'\r\n\timport amp7 from '@/assets/amp007.png'\r\n\timport amp8 from '@/assets/amp008.png'\r\n\timport amp9 from '@/assets/amp009.png'\r\n\timport amp10 from '@/assets/amp010.png'\r\n\r\n    import MyButton from \"./MyButton.vue\"\r\n\r\n    const client = require(\"../client\")\r\n\r\n    export default {\r\n        name: \"Table\",\r\n        components: {MyButton},\r\n        data() {\r\n            return {\r\n                id: this.$route.params.id,\r\n                loading: false,\r\n                tableColumn: [\r\n                    {key: 1, field: 'ADDRESS', title: '位置', width: \"12%\"},\r\n                    {key: 2, field: 'AMPLITUDE', title: '振幅', width: \"24%\"},\r\n                    {key: 3, field: 'FREQUENCY', title: '频率', width: \"5%\"},\r\n                    {key: 4, field: 'ELECTRICITY', title: '电量', width: \"15%\"},\r\n                    {key: 5, field: 'VOLTAGE', title: '电压', width: \"10%\"},\r\n                    {key: 6, field: 'READTIME', title: '时间', width: \"24%\"},\r\n                    {key: 7, field: 'SHOWDATA', title: '查看数据', width: \"10%\"},\r\n                ],\r\n                tableData: []\r\n            }\r\n        },\r\n        methods: {\r\n            test() {\r\n                alert(\"test\")\r\n            },\r\n            // 暂时先获取的地址全部填写为南京\r\n            formattweets(tweets) {\r\n                // 添加电量比例\r\n                let valtocent = [4.011, 4.006, 4.004, 4.002, 3.997, 3.992, 3.988, 3.985, 3.984, 3.982, 3.980, 3.978,\r\n                    3.978, 3.976, 3.976, 3.973, 3.971, 3.970, 3.969, 3.969, 3.968, 3.968, 3.968, 3.967, 3.966,\r\n                    3.965, 3.963, 3.960, 3.957, 3.956, 3.954, 3.952, 3.949, 3.946, 3.942, 3.938, 3.936, 3.933,\r\n                    3.930, 3.927, 3.924, 3.922, 3.918, 3.915, 3.913, 3.911, 3.909, 3.906, 3.904, 3.900, 3.892,\r\n                    3.887, 3.884, 3.881, 3.876, 3.872, 3.868, 3.861, 3.857, 3.852, 3.845, 3.840, 3.837, 3.835,\r\n                    3.833, 3.828, 3.823, 3.816, 3.812, 3.807, 3.798, 3.792, 3.789, 3.787, 3.783, 3.779, 3.777,\r\n                    3.771, 3.765, 3.760, 3.751, 3.746, 3.742, 3.733, 3.728, 3.725, 3.721, 3.716, 3.707, 3.702,\r\n                    3.698, 3.691, 3.680, 3.654, 3.621, 3.571, 3.524, 3.472, 3.403, 3.311, 3.156\r\n                ]\r\n \r\n                tweets.forEach((tweet)=> {\r\n                    tweet[\"ADDRESS\"] = \"南京\"\r\n\r\n                    if (tweet[\"AMPLITUDE\"] < 20) {\r\n                            tweet[\"AMPPIC\"] = amp1\r\n                        } else if (tweet[\"AMPLITUDE\"] < 50) {\r\n                            tweet[\"AMPPIC\"] = amp2\r\n                        } else if (tweet[\"AMPLITUDE\"] < 100) {\r\n                            tweet[\"AMPPIC\"] = amp3\r\n                        } else if (tweet[\"AMPLITUDE\"] < 150) {\r\n                            tweet[\"AMPPIC\"] = amp4\r\n                        } else if (tweet[\"AMPLITUDE\"] < 200) {\r\n                            tweet[\"AMPPIC\"] = amp5\r\n                        } else if (tweet[\"AMPLITUDE\"] < 300) {\r\n                            tweet[\"AMPPIC\"] = amp6\r\n                        } else if (tweet[\"AMPLITUDE\"] < 500) {\r\n                            tweet[\"AMPPIC\"] = amp7\r\n                        } else if (tweet[\"AMPLITUDE\"] < 800) {\r\n                            tweet[\"AMPPIC\"] = amp8\r\n                        } else if (tweet[\"AMPLITUDE\"] < 1500) {\r\n                            tweet[\"AMPPIC\"] = amp9\r\n                        } else {\r\n                            tweet[\"AMPPIC\"] = amp10\r\n                        }\r\n\r\n                    // 添加电量图片ADCPIC\r\n                    for (let j = 0; j <= 100; j++) {\r\n                        if (1.224 * 4095 / tweet[\"ADC\"] > valtocent[j]) {\r\n                            tweet[\"ELECTRICITY\"] = 100 - j\r\n                            if (tweet[\"ELECTRICITY\"] > 90) {\r\n                                tweet[\"ACCURIMAGE\"] = accur4\r\n                                tweet[\"AMPIMAGE\"] = amp1\r\n                            } else if (tweet[\"ELECTRICITY\"] > 75) {\r\n                                tweet[\"ACCURIMAGE\"] = accur3\r\n                                tweet[\"AMPIMAGE\"] = amp3\r\n                            } else if (tweet[\"ELECTRICITY\"] > 30) {\r\n                                tweet[\"ACCURIMAGE\"] = accur2\r\n                                tweet[\"AMPIMAGE\"] = amp6\r\n                            } else {\r\n                                tweet[\"ACCURIMAGE\"] = accur1\r\n                                tweet[\"AMPIMAGE\"] = amp10\r\n                            }\r\n                            break\r\n                        } else {\r\n                            tweet[\"ACCURIMAGE\"] = accur4\r\n                            tweet[\"ELECTRICITY\"] = 100\r\n                        }\r\n                    }\r\n                    tweet[\"VOLTAGE\"] = tweet[\"ADC\"]\r\n                })\r\n                return tweets\r\n            },\r\n            showData(id) {\r\n                this.$Modal.success({\r\n\t\t\t\t\ttitle: \"1234\",\r\n\t\t\t\t\tcontent: `<button onclick=\"test()\">test</button>`,\r\n\t\t\t\t\twidth: 1200\r\n\t\t\t\t})\r\n            },\r\n        },\r\n        created() {\r\n            window.test = this.test\r\n            client.getAllTweets((error, tweets)=> {\r\n                this.tableData = this.formattweets(tweets)\r\n            })\r\n        },\r\n        // 页面挂载完成后执行\r\n        mounted() {\r\n            setInterval(()=> {\r\n                client.getAllTweets((errors, tweets)=> {\r\n                    if (errors.length == 0) {\r\n\t\t\t\t\t\tthis.tableData = this.formattweets(tweets)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.errors = errors\r\n\t\t\t\t\t}\r\n                })\r\n            }, 1000)\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"css\">\r\n    #tablePart {\r\n        width: 90%;\r\n        height: 800px;\r\n        margin: auto;\r\n        margin-top: 100px;\r\n    }\r\n\r\n    .showDataBtn {\r\n        color: white;\r\n        background: #fc5c7d;\r\n        background: -webkit-linear-gradient(to right, #6a82fb, #fc5c7d);\r\n        background: linear-gradient(to right, #6a82fb, #fc5c7d);\r\n    }\r\n</style>"]}]}