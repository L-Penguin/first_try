{"remainingRequest":"D:\\programs\\vue-cli_programs\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\programs\\vue-cli_programs\\front\\src\\views\\CoordinatorTablePage.vue?vue&type=style&index=0&id=794b46e7&scoped=true&lang=css&","dependencies":[{"path":"D:\\programs\\vue-cli_programs\\front\\src\\views\\CoordinatorTablePage.vue","mtime":1642489600812},{"path":"D:\\programs\\vue-cli_programs\\front\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\programs\\vue-cli_programs\\front\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\programs\\vue-cli_programs\\front\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\programs\\vue-cli_programs\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\programs\\vue-cli_programs\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgojY29vcmRpbmF0b3JUYWJsZVBhcnQgewogICAgd2lkdGg6IDc1JTsKICAgIGhlaWdodDogYXV0bzsKICAgIG1hcmdpbjogYXV0bzsKICAgIG1hcmdpbi10b3A6IDEwMHB4Owp9Cg=="},{"version":3,"sources":["CoordinatorTablePage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwMA;AACA;AACA;AACA;AACA;AACA","file":"CoordinatorTablePage.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div id=\"coordinatorTablePart\">\r\n        <vxe-table\r\n          border\r\n          round\r\n          ref=\"xTable\"\r\n          height=\"665\" \r\n          :loading=\"loading\"\r\n          :column-config=\"{resizable: false, isCurrent: true, isHover: true}\"\r\n          :row-config=\"{isCurrent: true, isHover: true}\"\r\n          :data=\"tableData\" style=\"font-size: 18px\">\r\n          <vxe-column\r\n            v-for=\"config in tableColumn\"\r\n            :key=\"config.key\"\r\n            :type=\"config.type\"\r\n            :field=\"config.field\"\r\n            :title=\"config.title\"\r\n            :fixed=\"config.fixed\"\r\n            :width=\"config.width\">\r\n          </vxe-column>\r\n\r\n          <template #empty>\r\n            <span style=\"color: red;\">\r\n              <img src=\"../assets/img1.gif\">\r\n              <p>没有更多数据了！</p>\r\n            </span>\r\n          </template>\r\n        </vxe-table>\r\n\r\n        <vxe-pager\r\n          border\r\n\t\t  background\r\n\t\t  perfect\r\n          size=\"medium\"\r\n\t\t  align=\"left\"\r\n          :loading=\"loading\"\r\n          :current-page=\"tablePage.currentPage\"\r\n          :page-size=\"tablePage.pageSize\"\r\n          :total=\"tablePage.totalResult\"\r\n          :layouts=\"['PrevPage', 'JumpNumber', 'NextPage', 'FullJump', 'Sizes', 'Total']\"\r\n          @page-change=\"handlePageChange\"\r\n\t\t  style=\"font-size: 16px; height: 60px\">\r\n        </vxe-pager>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    const client = require(\"../client\")\r\n\r\n    export default {\r\n        name: \"CoordinatorTablePage\",\r\n        data() {\r\n            return {\r\n                reset: true,\r\n                loading: false,\r\n                tableColumn: [\r\n                    {key: 1, field: \"ID_MAIN\", title: \"协调器ID\"},\r\n                    {key: 2, field: \"AMOUNT\", title: \"一次接收的数量\"},\r\n                    {key: 3, field: \"ADC_MAIN\", title: \"电量\"},\r\n                    {key: 4, field: \"TEMPER_MAIN\", title: \"温度\"},\r\n                    {key: 5, field: \"READTIME\", title: \"时间\"}\r\n                ],\r\n                tableData: [],\r\n                tablePage: {\r\n                    currentPage: 1,\t// 当前页\r\n                    pageSize: 10,\t// 每页数据个数\r\n                    totalResult: 100\t// 总共数据个数\r\n                },\r\n                \r\n            }\r\n        },\r\n        methods: {\r\n            handlePageChange({ currentPage, pageSize }) {\r\n                this.tablePage.currentPage = currentPage\r\n                this.tablePage.pageSize = pageSize\r\n\r\n                client.getCoordinatorTweets(this.matchId, this.tablePage.currentPage, this.tablePage.pageSize, (error, tweets)=> {\r\n                    if (error.length == 0) {\r\n                            tweets.forEach((obj)=> {\r\n                                obj.ADC_MAIN = obj.ADC_MAIN.toFixed(2)\r\n                                obj.TEMPER_MAIN = (Math.abs(obj.TEMPER_MAIN) - 320).toFixed(2)\r\n                            })\r\n                            this.tableData = tweets\r\n                            this.loading = false\r\n                        } else {\r\n                            this.error = error\r\n                            console.log(error)\r\n                        }\r\n                })\r\n\r\n                // 获取该matchId数据总数\r\n                client.getTotalCoordinatorAccount(this.matchId, (error, length)=> {\r\n                    if (error.length == 0) {\r\n                        this.tablePage.totalResult = length\r\n                    } else {\r\n                        this.error = error\r\n                        console.log(error)\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        computed: {\r\n            matchId() {\r\n                this.reset = !this.reset\r\n                return this.$route.params.Id\r\n            }\r\n        },\r\n        created() {\r\n            client.getCoordinatorTweets(this.matchId, this.tablePage.currentPage, this.tablePage.pageSize, (error, tweets)=> {\r\n                if (error.length == 0) {\r\n                        tweets.forEach((obj)=> {\r\n                            obj.ADC_MAIN = obj.ADC_MAIN.toFixed(2)\r\n                            obj.TEMPER_MAIN = (Math.abs(obj.TEMPER_MAIN) - 320).toFixed(2)\r\n                        })\r\n                        this.tableData = tweets\r\n                        this.loading = false\r\n                    } else {\r\n                        this.error = error\r\n                        console.log(error)\r\n                    }\r\n            })\r\n\r\n            // 获取该matchId数据总数\r\n            client.getTotalCoordinatorAccount(this.matchId, (error, length)=> {\r\n                if (error.length == 0) {\r\n                    this.tablePage.totalResult = length\r\n                } else {\r\n                    this.error = error\r\n                    console.log(error)\r\n                }\r\n            })\r\n        },\r\n        mounted() {\r\n            setInterval(()=> {\r\n                client.getCoordinatorTweets(this.matchId, this.tablePage.currentPage, this.tablePage.pageSize, (error, tweets)=> {\r\n                    if (error.length == 0) {\r\n                        tweets.forEach((obj)=> {\r\n                            obj.ADC_MAIN = obj.ADC_MAIN.toFixed(2)\r\n                            obj.TEMPER_MAIN = (Math.abs(obj.TEMPER_MAIN) - 320).toFixed(2)\r\n                        })\r\n                        this.tableData = tweets\r\n                        this.loading = false\r\n                    } else {\r\n                        this.error = error\r\n                        console.log(error)\r\n                    }\r\n                })\r\n\r\n                // 获取该matchId数据总数\r\n                client.getTotalCoordinatorAccount(this.matchId, (error, length)=> {\r\n                    if (error.length == 0) {\r\n                        this.tablePage.totalResult = length\r\n                    } else {\r\n                        this.error = error\r\n                        console.log(error)\r\n                    }\r\n                })\r\n            }, 10000)\r\n        },\r\n        watch: {\r\n            reset() {\r\n                this.tableData = []\r\n\t\t\t\tthis.loading = true\r\n\r\n\t\t\t\t// 将页码恢复\r\n\t\t\t\tthis.tablePage.currentPage = 1\r\n\t\t\t\tthis.tablePage.pageSize = 10\r\n\r\n                if (this.reset === false) {\r\n                    client.getCoordinatorTweets(this.matchId, this.tablePage.currentPage, this.tablePage.pageSize, (error, tweets)=> {\r\n                        if (error.length == 0) {\r\n                            tweets.forEach((obj)=> {\r\n                                obj.ADC_MAIN = obj.ADC_MAIN.toFixed(2)\r\n                                obj.TEMPER_MAIN = (Math.abs(obj.TEMPER_MAIN) - 320).toFixed(2)\r\n                            })\r\n\r\n                            this.tableData = tweets\r\n                            this.loading = false\r\n                        } else {\r\n                            this.error = error\r\n                            console.log(error)\r\n                        }\r\n                    })\r\n\r\n                    // 获取该matchId数据总数\r\n                    client.getTotalCoordinatorAccount(this.matchId, (error, length)=> {\r\n                        if (error.length == 0) {\r\n                            this.tablePage.totalResult = length\r\n                        } else {\r\n                            this.error = error\r\n                            console.log(error)\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    #coordinatorTablePart {\r\n        width: 75%;\r\n        height: auto;\r\n        margin: auto;\r\n        margin-top: 100px;\r\n    }\r\n</style>"]}]}